{"version":3,"sources":["webpack:///./src/templates/blog-list.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js"],"names":["BlogIndex","articleClick","link","navigate","render","_this2","this","data","props","siteTitle","site","siteMetadata","title","posts","allMarkdownRemark","edges","_this$props$pageConte","pageContext","currentPage","numPages","isFirst","isLast","prevPage","toString","nextPage","formatPosts","blog","design","other","forEach","post","index","node","frontmatter","type","push","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_components_Layout__WEBPACK_IMPORTED_MODULE_8__","location","_components_seo__WEBPACK_IMPORTED_MODULE_7__","keywords","map","_ref","fields","slug","key","className","onClick","date","excerpt","dangerouslySetInnerHTML","__html","src","photos","alt","style","display","flexWrap","justifyContent","alignItems","listStyle","padding","gatsby__WEBPACK_IMPORTED_MODULE_6__","to","rel","Array","from","length","_","i","margin","textDecoration","React","Component","pageQuery","ctx","__webpack_require__","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","arguments","mapfn","undefined","mapping","iterFn","next","done","value","$defineProperty","createDesc","module","exports","object","f","anObject","$flags","DESCRIPTORS","$toString","define","fn","RegExp","prototype","source","flags","R","concat","name","configurable","get"],"mappings":"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","file":"component---src-templates-blog-list-js-cecb79e48384f44ee7f2.js","sourcesContent":["import React from 'react'\nimport { Link, graphql, navigate } from 'gatsby'\n\nimport SEO from '../components/seo'\nimport Layout from '../components/Layout'\nimport { rhythm } from '../utils/typography'\n\nclass BlogIndex extends React.Component {\n\n  articleClick = (link) => {\n    navigate(link);\n  }\n\n  render() {\n    const { data } = this.props\n    // console.log(JSON.stringify(data, null, 4));\n    const siteTitle = data.site.siteMetadata.title\n    const posts = data.allMarkdownRemark.edges\n    const { currentPage, numPages } = this.props.pageContext\n    const isFirst = currentPage === 1\n    const isLast = currentPage === numPages\n    const prevPage = currentPage - 1 === 1 ? '/' : (currentPage - 1).toString()\n    const nextPage = (currentPage + 1).toString()\n\n    const formatPosts = {\n      blog: [],\n      design: [],\n      other: []\n    }\n    // console.log('posts', posts.length);\n    // console.log(JSON.stringify(posts, null, 4));\n    posts.forEach((post, index) => {\n      switch (post.node.frontmatter.type) {\n        case 'design':\n          formatPosts.design.push(post)\n          break;\n        case 'other':\n          formatPosts.other.push(post)\n          break;\n        case 'blog':\n          formatPosts.blog.push(post)\n          break;\n        default:\n          formatPosts.blog.push(post)\n          break;\n      }\n    });\n    // console.log(JSON.stringify(formatPosts.blog.length, null, 4));\n    \n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <SEO\n          title={siteTitle}\n          keywords={[`blog`, `dwb`, `董文博`, `dwbbb`, `dwbbb.com`,`javascript`, `design`]}\n        />\n        {/* <Bio /> */}\n        {formatPosts.blog.map(({ node }) => {\n          // console.log(JSON.stringify(node, null, 4));\n          const title = node.frontmatter.title || node.fields.slug\n          // console.log('title', title);\n          return (\n            <article\n              key={node.fields.slug}\n              className=\"m-post\"\n              onClick={() => this.articleClick(node.fields.slug)}\n            >\n              <div className=\"m-post-content\">\n                <h3 className=\"title\">{title}</h3>\n                <small>{node.frontmatter.date}</small>\n                {\n                  node.frontmatter.excerpt ? \n                  <p>{node.frontmatter.excerpt}</p> : <p dangerouslySetInnerHTML={{ __html: node.excerpt }} />\n                }\n              </div>\n              <div className=\"m-post-img\">\n                <img\n                  className=\"ui-img\"\n                  src={node.frontmatter.photos[0]}\n                  alt=\"\"\n                />\n              </div>\n            </article>\n          )\n        })}\n        <ul\n          style={{\n            display: 'flex',\n            flexWrap: 'wrap',\n            justifyContent: 'center',\n            alignItems: 'center',\n            listStyle: 'none',\n            padding: 0,\n          }}\n        >\n          {!isFirst && (\n            <Link to={prevPage} rel=\"prev\">\n              ← Previous Page\n            </Link>\n          )}\n          {Array.from({ length: numPages }, (_, i) => (\n            <li\n              key={`pagination-number${i + 1}`}\n              style={{\n                margin: '0 8px',\n              }}\n            >\n              <Link\n                to={`/${i === 0 ? '' : i + 1}`}\n                style={{\n                  padding: `.5em`,\n                  textDecoration: 'none',\n                }}\n              >\n                {i + 1}\n              </Link>\n            </li>\n          ))}\n          {!isLast && (\n            <Link to={nextPage} rel=\"next\">\n              Next Page →\n            </Link>\n          )}\n        </ul>\n      </Layout>\n    )\n  }\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query blogPageQuery($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      limit: $limit\n      skip: $skip\n      filter: {\n        frontmatter: {type: {eq: \"blog\" }}\n      }\n    ) {\n      edges {\n        node {\n          excerpt(\n            format: PLAIN\n            pruneLength: 100\n            truncate: true\n          )\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"DD MMMM, YYYY\")\n            title\n            type\n            photos\n          }\n        }\n      }\n    }\n  }\n`\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n"],"sourceRoot":""}